{% extends "admin/base.html" %}
{% load static %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | Revolution Realty{% endblock %}

{% block branding %}
<div class="modern-header">
    <div class="header-brand">
        <h1 id="site-name">
            <a href="{% url 'admin:index' %}" class="brand-link">
                <span class="brand-icon">🏠</span>
                <span class="brand-text">Revolution Realty</span>
                <span class="brand-subtitle">SaaS Platform</span>
            </a>
        </h1>
    </div>
    <div class="header-actions">
        {% if user.is_active and user.is_staff %}
            <div class="user-menu">
                <span class="welcome-text">Welcome, <strong>{{ user.first_name|default:user.username }}</strong></span>
                <div class="user-actions">
                    <a href="{% url 'admin:password_change' %}" class="action-btn">
                        <span class="icon">🔑</span> Change Password
                    </a>
                    <a href="{% url 'admin:logout' %}" class="action-btn logout">
                        <span class="icon">🚪</span> Log out
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block nav-global %}
<nav class="modern-nav">
    <div class="nav-container">
        <div class="nav-primary">
            <a href="{% url 'admin:index' %}" class="nav-item {% if request.resolver_match.url_name == 'index' %}active{% endif %}">
                <span class="nav-icon">📊</span>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="/admin/core/tenant/" class="nav-item">
                <span class="nav-icon">🏢</span>
                <span class="nav-text">Tenants</span>
            </a>
            <a href="/admin/core/lead/" class="nav-item">
                <span class="nav-icon">🎯</span>
                <span class="nav-text">Leads</span>
            </a>
            <a href="/admin/core/transaction/" class="nav-item">
                <span class="nav-icon">💼</span>
                <span class="nav-text">Transactions</span>
            </a>
            <a href="/admin/core/property/" class="nav-item">
                <span class="nav-icon">🏘️</span>
                <span class="nav-text">Properties</span>
            </a>
            <a href="/admin/core/task/" class="nav-item">
                <span class="nav-icon">✅</span>
                <span class="nav-text">Tasks</span>
            </a>
        </div>
        <div class="nav-secondary">
            <div class="nav-group">
                <div class="nav-group-title">SaaS Management</div>
                <a href="/admin/core/subscriptionplan/" class="nav-item sub">
                    <span class="nav-icon">💰</span>
                    <span class="nav-text">Subscription Plans</span>
                </a>
                <a href="/admin/core/tenantbranding/" class="nav-item sub">
                    <span class="nav-icon">🎨</span>
                    <span class="nav-text">Branding</span>
                </a>
                <a href="/admin/core/invoice/" class="nav-item sub">
                    <span class="nav-icon">📄</span>
                    <span class="nav-text">Invoices</span>
                </a>
            </div>
            <div class="nav-group">
                <div class="nav-group-title">CRM & Marketing</div>
                <a href="/admin/core/leadsource/" class="nav-item sub">
                    <span class="nav-icon">📈</span>
                    <span class="nav-text">Lead Sources</span>
                </a>
                <a href="/admin/core/activity/" class="nav-item sub">
                    <span class="nav-icon">📞</span>
                    <span class="nav-text">Activities</span>
                </a>
                <a href="/admin/core/emailcampaign/" class="nav-item sub">
                    <span class="nav-icon">📧</span>
                    <span class="nav-text">Email Campaigns</span>
                </a>
            </div>
            <div class="nav-group">
                <div class="nav-group-title">System</div>
                <a href="/admin/auth/user/" class="nav-item sub">
                    <span class="nav-icon">👥</span>
                    <span class="nav-text">Users</span>
                </a>
                <a href="/admin/core/feature/" class="nav-item sub">
                    <span class="nav-icon">⚙️</span>
                    <span class="nav-text">Features</span>
                </a>
                <a href="/admin/core/integration/" class="nav-item sub">
                    <span class="nav-icon">🔗</span>
                    <span class="nav-text">Integrations</span>
                </a>
            </div>
        </div>
    </div>
</nav>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/modern_admin.css' %}">
<script src="{% static 'admin/js/modern_admin.js' %}"></script>
{% endblock %}

{% block footer %}
<footer class="modern-footer">
    <div class="footer-content">
        <div class="footer-left">
            <span class="footer-brand">Revolution Realty SaaS Platform</span>
            <span class="footer-version">Version 2.0</span>
        </div>
        <div class="footer-right">
            <a href="#" class="footer-link">Support</a>
            <a href="#" class="footer-link">Documentation</a>
            <a href="#" class="footer-link">API</a>
        </div>
    </div>
</footer>
{% endblock %}

